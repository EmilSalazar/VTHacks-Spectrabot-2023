<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <title>VTHACKS</title>
</head>
<body>

    <div class = "header"> 
        <h2>DEI Job Listing</h2>
    </div>

    <div class="main">
        <div class="left">
            <form id="python-form">
                <div class="survey">
                    <button id="question">Some1</button>
                    <button id="question">Some2</button>
                    <button id="question">Some3</button>
                    <button id="question">Some4</button>
                </div>
                <p>Your curated prompt has been pasted below when your ready click submit!</p>
                <input type="text" id="textInput" placeholder="Enter Username">
                <button type="button" onclick="runPythonScript()">Submit</button>
            </form>
            <div class="upload">
                <img src="{{ url_for('static', filename='deer.png') }}" alt="Deer Image">
                <!--<button>Upload</button>-->
            </div>
        </div>

        <div class="right">
            <div id="output"></div>
        </div>
    </div>

    <script>
        function runPythonScript() {
            var userInput = document.getElementById('textInput').value;
            var formData = new FormData();
            formData.append('user_input', userInput);

            fetch('/run_python', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                var outputDiv = document.getElementById('output');
                outputDiv.textContent = "ChatGPT: " + data.response;
            });
        }
    </script>
</body>
</html>